<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>BlackFalcon SOCâ„¢</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{
margin:0;
font-family:'Cairo',sans-serif;
background:#001a00;
color:#00ff7f;
transition:0.4s;
}

body.alertHigh{
background:#7a0000 !important;
color:#fff !important;
}

header{
text-align:center;
padding:20px;
border-bottom:1px solid #00ff7f33;
}

.container{
max-width:1000px;
margin:20px auto;
padding:25px;
background:rgba(0,20,0,0.92);
border-radius:20px;
}

textarea{
width:100%;
height:140px;
background:#000;
border:2px solid #00ff7f;
border-radius:15px;
padding:15px;
color:#00ff7f;
font-size:16px;
resize:none;
}

textarea:focus{
outline:none;
box-shadow:0 0 20px #00ff7f;
}

.card{
background:#001a00;
padding:20px;
border-radius:15px;
margin-top:15px;
box-shadow:0 0 15px #00ff7f22;
}

.progress{
height:12px;
background:#003300;
border-radius:10px;
margin-top:10px;
}

.bar{
height:100%;
width:0%;
background:#00ff7f;
border-radius:10px;
transition:0.4s;
}

.log{
max-height:150px;
overflow:auto;
background:#0a0a0a;
padding:10px;
border-radius:10px;
font-size:12px;
}
</style>
</head>

<body>

<header>
<h1>ğŸ¦… BlackFalcon SOCâ„¢</h1>
<p>Security Operations Simulation</p>
</header>

<div class="container">

<textarea id="msg" placeholder="Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù‡Ù†Ø§ Ù„Ù„ØªØ­Ù„ÙŠÙ„..."></textarea>

<div class="card">
<h3>Threat Status</h3>
<p id="status">â€”</p>
<p>Risk Score: <span id="score">0</span>%</p>
<div class="progress"><div class="bar" id="bar"></div></div>
<p>Incident ID: <span id="incident">â€”</span></p>
</div>

<div class="card">
<h3>Incident Log</h3>
<div class="log" id="log"></div>
</div>

<div class="card">
<h3>Statistics</h3>
<canvas id="chart"></canvas>
</div>

</div>

<audio id="alertSound">
<source src="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3">
</audio>

<script>
let stats={safe:0,high:0};
let lastStatus="";
let selectedVoice=null;

// ğŸ™ï¸ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØª Ø£Ù†Ø«ÙˆÙŠ Ù†Ø§Ø¹Ù… Ù‚Ø±ÙŠØ¨ Ù…Ù† Siri
function loadVoices(){
let voices=speechSynthesis.getVoices();

selectedVoice = voices.find(v =>
v.lang.includes("ar") &&
(v.name.toLowerCase().includes("female") ||
 v.name.toLowerCase().includes("woman") ||
 v.name.toLowerCase().includes("sara") ||
 v.name.toLowerCase().includes("hoda"))
);

if(!selectedVoice){
selectedVoice = voices.find(v =>
v.lang.includes("en") &&
(v.name.toLowerCase().includes("female") ||
 v.name.toLowerCase().includes("zira"))
);
}
}

speechSynthesis.onvoiceschanged = loadVoices;

function speak(text){
let u=new SpeechSynthesisUtterance(text);
u.voice=selectedVoice;
u.lang=selectedVoice ? selectedVoice.lang : "ar-SA";

// ğŸ”¥ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØµÙˆØª Ù†Ø§Ø¹Ù… Ø¬Ø¯Ø§Ù‹
u.rate=0.78;
u.pitch=1.1;
u.volume=1;

speechSynthesis.cancel();
speechSynthesis.speak(u);
}

function generateIncident(){
return "INC-"+Date.now().toString().slice(-6);
}

// ğŸ”´ ÙƒÙ„ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø´Ø¨ÙˆÙ‡Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© + Ø¥Ø¶Ø§ÙØ§Øª Ù‚ÙˆÙŠØ©
const suspiciousWords=[
"ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
"ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø³Ø§Ø¨Ùƒ",
"ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø³Ø§Ø¨Ùƒ Ø§Ù„Ø¨Ù†ÙƒÙŠ",
"Ø­Ø³Ø§Ø¨Ùƒ Ø§Ù„Ø¨Ù†ÙƒÙŠ",
"ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø³Ø§Ø¨",
"Ù‚Ù… Ø¨Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ø­Ø³Ø§Ø¨Ùƒ",
"Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
"ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
"Ø§Ù†Ù‚Ø± Ù„Ù„ØªØ­Ù‚Ù‚",
"Ø§Ø¶ØºØ· Ù‡Ù†Ø§",
"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨",
"Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø³Ø±ÙŠØ©",
"Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©",
"Ø§Ø®ØªØ±Ø§Ù‚ Ø§Ù„Ø­Ø³Ø§Ø¨",
"Ø§Ø®ØªØ±Ø§Ù‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª",
"ØªÙ… ØªØ¹Ù„ÙŠÙ‚ Ø­Ø³Ø§Ø¨Ùƒ",
"ØªÙ… ØªØ¬Ù…ÙŠØ¯ Ø­Ø³Ø§Ø¨Ùƒ",
"ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù‡ÙˆÙŠØ©",
"Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚",
"Ø´Ø§Ø±Ùƒ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚",
"Ø§Ø³ØªÙ„Ù…Øª Ø­ÙˆØ§Ù„Ø©",
"Ù…ÙƒØ§ÙØ£Ø© Ù…Ø§Ù„ÙŠØ©",
"Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù„Ø§ÙŠÙŠÙ†",
"ÙØ±ØµØ© Ø§Ø³ØªØ«Ù…Ø§Ø± ÙÙˆØ±ÙŠ"
];

const pattern=new RegExp(suspiciousWords.join("|"),"i");

function analyze(){
let text=document.getElementById("msg").value.toLowerCase().normalize("NFC").trim();
if(text.length<3) return;

let bar=document.getElementById("bar");
document.body.classList.remove("alertHigh");

if(pattern.test(text)){
document.body.classList.add("alertHigh");
document.getElementById("status").innerText="Ø®Ø·Ø± Ø¹Ø§Ù„ÙŠ";
document.getElementById("score").innerText="100";
bar.style.width="100%";
document.getElementById("alertSound").play();
stats.high++;
speak("ØªØ­Ø°ÙŠØ±. ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ø±Ø³Ø§Ù„Ø© Ø®Ø·ÙŠØ±Ø©.");
logIncident("ØªÙ‡Ø¯ÙŠØ¯ ØªØµÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø­ØªÙ…Ù„");
}else{
document.getElementById("status").innerText="Ø¢Ù…Ù†";
document.getElementById("score").innerText="0";
bar.style.width="0%";
stats.safe++;
speak("Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¢Ù…Ù†Ø©.");
logIncident("Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªÙ‡Ø¯ÙŠØ¯");
}

updateChart();
}

document.getElementById("msg").addEventListener("input",analyze);

function logIncident(text){
let id="INC-"+Date.now().toString().slice(-6);
document.getElementById("incident").innerText=id;
document.getElementById("log").innerHTML+=
`[${new Date().toLocaleTimeString()}] ${id} - ${text}<br>`;
}

let chart=new Chart(document.getElementById("chart"),{
type:'doughnut',
data:{
labels:['Safe','High'],
datasets:[{
data:[0,0],
backgroundColor:['#00ff7f','#ff4d4d']
}]
}
});

function updateChart(){
chart.data.datasets[0].data=[stats.safe,stats.high];
chart.update();
}
</script>

</body>
</html>
