<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Cyber Threat Analyzer</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');

body{
    margin:0;
    font-family:'Cairo',sans-serif;
    background:#020b07;
    color:#00ff9c;
    overflow:hidden;
}

canvas{
    position:fixed;
    top:0;
    left:0;
    z-index:-1;
}

.container{
    width:760px;
    max-width:95%;
    margin:70px auto;
    background:rgba(0,20,10,0.92);
    padding:25px;
    border-radius:16px;
    box-shadow:0 0 40px #00ff9c66;
}

h1{
    text-align:center;
    text-shadow:0 0 15px #00ff9c;
}

textarea{
    width:100%;
    height:180px;
    background:#001a0d;
    border:1px solid #00ff9c55;
    border-radius:10px;
    padding:12px;
    color:#00ff9c;
    font-size:15px;
    resize:none;
}

button{
    width:100%;
    margin-top:15px;
    padding:14px;
    background:#00ff9c;
    border:none;
    color:#002b19;
    font-weight:bold;
    border-radius:10px;
    cursor:pointer;
}

.result{
    margin-top:20px;
    padding:18px;
    background:#001a0d;
    border-radius:10px;
    border:1px solid #00ff9c33;
    line-height:2;
}

.danger{color:#ff4d4d;font-weight:bold;}
.medium{color:#ffd633;font-weight:bold;}
.safe{color:#00ff9c;font-weight:bold;}

.section-title{
    font-weight:bold;
    text-decoration:underline;
}
</style>
</head>

<body>

<canvas id="matrix"></canvas>

<div class="container">
<h1>ğŸ›¡ Cyber Threat Analyzer</h1>

<textarea id="msg" placeholder="Ø§Ù„ØµÙ‚ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù‡Ù†Ø§..."></textarea>
<button onclick="analyze()">ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙ‡Ø¯ÙŠØ¯</button>

<div class="result" onmouseover="readResult()">
<p><span class="section-title">Ø§Ù„Ù†ØªÙŠØ¬Ø©:</span> <span id="result">â€”</span></p>
<p><span class="section-title">Ù†Ø³Ø¨Ø© Ø§Ù„Ø®Ø·ÙˆØ±Ø©:</span> <span id="score">â€”</span></p>
<p><span class="section-title">Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ù…Ù†ÙŠ:</span> <span id="analysis">â€”</span></p>
<p><span class="section-title">Ø§Ù„ØªÙˆØµÙŠØ© Ø§Ù„Ø£Ù…Ù†ÙŠØ©:</span> <span id="advice">â€”</span></p>
<p><span class="section-title">MITRE ATT&CK:</span> <span id="mitre">â€”</span></p>
</div>
</div>

<audio id="alarm">
<source src="https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3">
</audio>

<script>
/* Matrix Background */
const c=document.getElementById("matrix"),x=c.getContext("2d");
c.width=innerWidth;c.height=innerHeight;
const chars="01",fs=14,cols=c.width/fs,drops=Array(Math.floor(cols)).fill(1);
setInterval(()=>{
x.fillStyle="rgba(0,0,0,.05)";
x.fillRect(0,0,c.width,c.height);
x.fillStyle="#00ff9c";
x.font=fs+"px monospace";
drops.forEach((y,i)=>{
x.fillText(chars[Math.random()>0.5?1:0],i*fs,y*fs);
if(y*fs>c.height&&Math.random()>0.975)drops[i]=0;
drops[i]++;
});
},33);

/* ÙƒÙ„Ù…Ø§Øª ØªØµÙŠÙ‘Ø¯ Ù…ÙˆØ³Ø¹Ø© */
const phishingWords=[
"urgent","verify","login","password","otp","bank","account","suspend",
"reset","security alert","unusual activity","confirm","payment",
"Ø¹Ø§Ø¬Ù„","ØªØ­Ø°ÙŠØ±","ØªØ­Ø¯ÙŠØ«","Ø­Ø³Ø§Ø¨Ùƒ","Ø¥ÙŠÙ‚Ø§Ù","Ø±Ù…Ø²","Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ",
"Ø£Ø¨Ø´Ø±","Ù†ÙØ§Ø°","Ø§Ù„Ø±Ø§Ø¬Ø­ÙŠ","Ø§Ù„Ø£Ù‡Ù„ÙŠ","Ø³Ø§Ø¨","stc pay","Ù…Ø¯Ù‰","Ø³Ø¯Ø§Ø¯",
"Ø¬Ø§Ø¦Ø²Ø©","Ù…Ø¨Ø±ÙˆÙƒ","ÙØ²Øª","Ø¹Ø±Ø¶ ÙˆØ¸ÙŠÙØ©","Ø±Ø§ØªØ¨",
"bit.ly","tinyurl",".ru",".exe",".zip",".tk",".xyz""ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø³Ø§Ø¨Ùƒ",
    "ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§ØªÙƒ",
    "ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø­Ø³Ø§Ø¨Ùƒ",
    "ØªÙ… ØªØ¹Ù„ÙŠÙ‚ Ø­Ø³Ø§Ø¨Ùƒ",
    "Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„",
    "Ù†Ø´Ø§Ø· ØºÙŠØ± Ù…Ø¹ØªØ§Ø¯",
    "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù‡ÙˆÙŠØ©",
    "ØªØ£ÙƒÙŠØ¯ Ø­Ø³Ø§Ø¨Ùƒ",
    "ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
    "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
    "Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚",
    "Ø±Ù…Ø² Ø§Ù„Ø£Ù…Ø§Ù†",
    "Ø§Ø¶ØºØ· Ù‡Ù†Ø§",
    "Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¢Ù†",
    "Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ø­Ø³Ø§Ø¨Ùƒ",
    "ØªØ­Ø°ÙŠØ± Ø£Ù…Ù†ÙŠ",
    "Ø¥Ø¬Ø±Ø§Ø¡ Ø¹Ø§Ø¬Ù„",

    // ÙƒÙ„Ù…Ø§Øª Ù…Ø§Ù„ÙŠØ©
    "Ø­Ø³Ø§Ø¨Ùƒ Ø§Ù„Ø¨Ù†ÙƒÙŠ",
    "Ø¨Ø·Ø§Ù‚ØªÙƒ Ø§Ù„Ø¨Ù†ÙƒÙŠØ©",
    "Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø§Ø¦ØªÙ…Ø§Ù†",
    "ØªØ­ÙˆÙŠÙ„ Ù…Ø§Ù„ÙŠ",
    "Ø±ØµÙŠØ¯",
    "Ø¯ÙØ¹",

    // ÙƒÙ„Ù…Ø§Øª Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
    "login",
    "verify",
    "account",
    "update",
    "confirm",
    "password",
    "alert",

    // Ø±ÙˆØ§Ø¨Ø· ÙˆÙ†Ø·Ø§Ù‚Ø§Øª Ù…Ø´Ø¨ÙˆÙ‡Ø©
    "http://",
    ".ru",
    ".tk",
    ".cn"
];

const linkRegex=/https?:\/\/|bit\.ly|tinyurl|\.exe|\.zip|\.ru|\.tk|\.xyz/i;

let lastSpeech="";

/* ØµÙˆØª Ù…Ø­Ø³Ù‘Ù† */
function speak(text){
    speechSynthesis.cancel();
    const s=new SpeechSynthesisUtterance(text);
    s.lang="ar-SA";
    s.rate=0.85;
    s.pitch=1;
    speechSynthesis.speak(s);
}

/* Ø§Ù„ØªØ­Ù„ÙŠÙ„ */
function analyze(){
let t=document.getElementById("msg").value.toLowerCase();
let score=0;
let mitre=[];

phishingWords.forEach(w=>{
if(t.includes(w)){
    score+=10;
    mitre.push("T1566 â€“ Phishing");
}
});

if(linkRegex.test(t)){
    score+=25;
    mitre.push("T1204 â€“ User Execution");
}

let result="Ø¢Ù…Ù†";
let cls="safe";
let analysis="Ù„Ù… ÙŠØªÙ… Ø§ÙƒØªØ´Ø§Ù Ù…Ø¤Ø´Ø±Ø§Øª ØªØµÙŠÙ‘Ø¯ Ø£Ùˆ ØªÙ‡Ø¯ÙŠØ¯ ÙˆØ§Ø¶Ø­ ÙÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ø©.";
let advice="ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ Ù…Ø¹ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø¨Ø§Ù„Ø­Ø°Ø±.";

if(score>=65){
    result="Ø®Ø·Ø± Ø¹Ø§Ù„ÙŠ";
    cls="danger";
    analysis="ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ø±Ø³Ø§Ù„Ø© ØªØµÙŠÙ‘Ø¯ Ø§Ø­ØªÙŠØ§Ù„ÙŠ Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø®Ø·ÙˆØ±Ø© ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©ØŒ ÙˆØªÙ‡Ø¯Ù Ø¥Ù„Ù‰ Ø®Ø¯Ø§Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø³Ø© Ù…Ø«Ù„ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± Ø£Ùˆ Ø±Ù…ÙˆØ² Ø§Ù„ØªØ­Ù‚Ù‚ Ø£Ùˆ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ù†ÙƒÙŠØ©.";
    advice="ÙŠÙˆØµÙ‰ Ø¨Ø¹Ø¯Ù… Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠ Ø±Ø§Ø¨Ø·ØŒ ÙˆØ¹Ø¯Ù… Ù…Ø´Ø§Ø±ÙƒØ© Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø´Ø®ØµÙŠØ© Ø£Ùˆ Ù…Ø§Ù„ÙŠØ©ØŒ ÙˆØ­Ø°Ù Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙÙˆØ±Ù‹Ø§ØŒ Ù…Ø¹ Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù†Ù‡Ø§ Ù„Ù„Ø¬Ù‡Ø© Ø§Ù„Ù…Ø®ØªØµØ©.";
    document.getElementById("alarm").play();
}
else if(score>=20){
    result="Ù…Ø´Ø¨ÙˆÙ‡";
    cls="medium";
    analysis="Ø§Ù„Ø±Ø³Ø§Ù„Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù…Ø¤Ø´Ø±Ø§Øª Ù…Ø­ØªÙ…Ù„Ø© Ù„Ù„ØªØµÙŠÙ‘Ø¯ Ø§Ù„Ø§Ø­ØªÙŠØ§Ù„ÙŠ Ø£Ùˆ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø®Ø¯Ø§Ø¹ ØºÙŠØ± Ù…Ø¨Ø§Ø´Ø±Ø©ØŒ ÙˆÙ‚Ø¯ ØªØ³ØªÙ‡Ø¯Ù Ø¥Ø«Ø§Ø±Ø© Ø§Ù„Ø®ÙˆÙ Ø£Ùˆ Ø§Ù„Ø§Ø³ØªØ¹Ø¬Ø§Ù„.";
    advice="ÙŠÙˆØµÙ‰ Ø¨Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…ØµØ¯Ø± Ø§Ù„Ø±Ø³Ø§Ù„Ø©ØŒ ÙˆØ¹Ø¯Ù… Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø£Ùˆ Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª Ø­ØªÙ‰ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­ØªÙ‡Ø§.";
}

document.getElementById("result").innerHTML=`<span class="${cls}">${result}</span>`;
document.getElementById("score").innerText=score+"%";
document.getElementById("analysis").innerText=analysis;
document.getElementById("advice").innerText=advice;
document.getElementById("mitre").innerText=[...new Set(mitre)].join(", ")||"â€”";

lastSpeech=`Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ ${result}. ${analysis} Ø§Ù„ØªÙˆØµÙŠØ© Ø§Ù„Ø£Ù…Ù†ÙŠØ©: ${advice}`;
speak(lastSpeech);
}

/* Ù‚Ø±Ø§Ø¡Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø±ÙˆØ± */
function readResult(){
if(lastSpeech) speak(lastSpeech);
}

/* Ù‚Ø±Ø§Ø¡Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ±ÙƒÙŠØ² */
document.getElementById("msg").addEventListener("focus",()=>{
speak("Ù…Ø±Ø¨Ø¹ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù„ØµÙ‚ Ø§Ù„Ù†Øµ Ø«Ù… Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙ‡Ø¯ÙŠØ¯.");
});
</script>

</body>
</html>
