<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Cyber Phishing Analyzer</title>
<style>
:root {
  --bg: #0f172a;
  --card: #020617;
  --primary: #38bdf8;
  --danger: #ef4444;
  --warning: #f59e0b;
  --safe: #22c55e;
  --text: #e5e7eb;
  --muted: #94a3b8;
}

body {
  margin: 0;
  font-family: "Segoe UI", Tahoma, sans-serif;
  background: radial-gradient(circle at top, #020617, #0f172a);
  color: var(--text);
  direction: rtl;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}

.card {
  background: linear-gradient(180deg, #020617, #020617);
  border: 1px solid #1e293b;
  border-radius: 16px;
  width: 500px;
  max-width: 95%;
  padding: 30px;
  box-shadow: 0 0 30px rgba(56,189,248,0.15);
}

.header {
  text-align: center;
  margin-bottom: 20px;
  transition: 0.5s;
}

.header h1 {
  margin: 0;
  font-size: 24px;
  color: var(--safe);
  transition: 0.5s;
}

.header h1:hover {
  background: linear-gradient(90deg, #22c55e, #38bdf8, #22c55e);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: glow 1.5s infinite;
}

@keyframes glow {
  0%,100%{text-shadow:0 0 5px #22c55e;}
  50%{text-shadow:0 0 15px #38bdf8;}
}

.header p {
  font-size: 14px;
  color: var(--muted);
}

textarea {
  width: 100%;
  height: 150px;
  background: #020617;
  border: 1px solid #1e293b;
  border-radius: 10px;
  padding: 14px;
  color: var(--text);
  font-size: 15px;
  resize: none;
  outline: none;
}

textarea:focus {
  box-shadow: 0 0 20px rgba(0,255,170,0.3);
}

button {
  margin-top: 15px;
  width: 100%;
  background: var(--safe);
  border: none;
  border-radius: 10px;
  padding: 12px;
  cursor: pointer;
  font-size: 16px;
  font-weight: bold;
  color: #020617;
  transition: 0.3s;
}

button:hover {
  background: #22c55e;
  transform: scale(1.05);
}

.result {
  margin-top: 25px;
  padding: 14px;
  border-radius: 10px;
  font-weight: bold;
  text-align: right;
  display: none;
}

.safe { background: rgba(34,197,94,0.15); color: var(--safe); }
.warn { background: rgba(245,158,11,0.15); color: var(--warning); }
.danger { background: rgba(239,68,68,0.15); color: var(--danger); }

.label { color: var(--primary); font-weight: bold; }
.percent { font-size: 18px; color: var(--primary); margin-bottom:5px; }

.progress-container {
  width: 100%;
  height: 15px;
  background: rgba(255,255,255,0.1);
  border-radius: 10px;
  margin: 8px 0 15px 0;
  overflow: hidden;
}

.progress-bar {
  height: 100%;
  width: 0;
  border-radius: 10px;
  transition: width 1s ease, background 1s ease;
}
</style>
</head>

<body>

<div class="card">
  <div class="header">
    <h1>ğŸ›¡ Cyber Phishing Analyzer</h1>
    <p>ØªØ­Ù„ÙŠÙ„ Ø±Ø³Ø§Ø¦Ù„ ÙˆØ±ÙˆØ§Ø¨Ø· Ø§Ø­ØªÙŠØ§Ù„ÙŠØ© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… MITRE ATT&CK</p>
  </div>

  <textarea id="msg" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø£Ùˆ Ø§Ù„Ø±Ø§Ø¨Ø· Ù‡Ù†Ø§"></textarea>
  <button onclick="analyze()">ğŸ” ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</button>

  <div id="result" class="result">
    <div class="percent" id="percent"></div>
    <div class="progress-container">
      <div class="progress-bar" id="progress"></div>
    </div>
    <div><span class="label">Ø§Ù„Ø­Ø§Ù„Ø©:</span> <span id="status"></span></div>
    <div><span class="label">MITRE ATT&CK:</span> <span id="mitre"></span></div>
    <div><span class="label">Ø§Ù„ÙˆØµÙ:</span> <span id="desc"></span></div>
    <div><span class="label">Ø§Ù„Ø³Ø¨Ø¨:</span> <span id="reason"></span></div>
  </div>
</div>

<script>
function speak(text){
  speechSynthesis.cancel();
  const msg=new SpeechSynthesisUtterance(text);
  msg.lang="ar-SA";
  speechSynthesis.speak(msg);
}

window.onload=()=>speak("Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ù†Ø¸Ø§Ù… ÙƒØ´Ù Ø§Ù„ØªØµÙŠØ¯ Ø§Ù„Ø§Ø­ØªÙŠØ§Ù„ÙŠ. Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„ØªØ­Ù„ÙŠÙ„Ù‡Ø§.");

const banks=["alrajhi","rajhi","riyadbank","alinma","saib","snb","ahli","bank"];
const patterns=[
  {words:["verify","ØªØ­Ø¯ÙŠØ«","update","login"],tech:"T1566.002",desc:"Phishing Link",score:20,reason:"Ø·Ù„Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ùˆ ØªØ­Ø¯ÙŠØ«"},
  {words:["otp","Ø±Ù…Ø²","code"],tech:"T1556",desc:"Credential Harvesting",score:25,reason:"Ø·Ù„Ø¨ Ø±Ù…Ø² ØªØ­Ù‚Ù‚"},
  {words:["Ø§ÙŠÙ‚Ø§Ù","Ù…ÙˆÙ‚ÙˆÙ","suspended"],tech:"T1098",desc:"Account Manipulation",score:30,reason:"ØªØ®ÙˆÙŠÙ Ø¨Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø­Ø³Ø§Ø¨"},
  {words:["http://","https://","bit.ly","tinyurl"],tech:"T1566.001",desc:"Malicious Link",score:25,reason:"Ø±Ø§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠ"},
  {words:["urgent","Ø¹Ø§Ø¬Ù„","ÙÙˆØ±Ø§"],tech:"T1204",desc:"Social Engineering Pressure",score:15,reason:"Ø§Ø³ØªØ¹Ø¬Ø§Ù„ Ø§Ù„Ø¶Ø­ÙŠØ©"}
];

function analyze(){
  let text=document.getElementById("msg").value.toLowerCase();
  let risk=0,tech=[],reasons=[];

  patterns.forEach(p=>{
    p.words.forEach(w=>{
      if(text.includes(w)){
        risk+=p.score;
        tech.push(p.tech+" - "+p.desc);
        reasons.push(p.reason);
      }
    });
  });

  banks.forEach(b=>{
    if(text.includes(b)){
      risk+=25;
      tech.push("T1583 - Impersonation");
      reasons.push("Ø§Ù†ØªØ­Ø§Ù„ Ø¨Ù†Ùƒ Ù…Ø¹Ø±ÙˆÙ");
    }
  });

  if(risk>100) risk=100;

  let status,cls,color;
  if(risk>=70){status="ğŸš¨ ØªØµÙŠØ¯ Ø§Ø­ØªÙŠØ§Ù„ÙŠ Ø®Ø·ÙŠØ±"; cls="danger"; color="#ef4444";}
  else if(risk>=40){status="âš ï¸ Ø±Ø³Ø§Ù„Ø© Ù…Ø´Ø¨ÙˆÙ‡Ø©"; cls="warn"; color="#f59e0b";}
  else{status="âœ… Ø±Ø³Ø§Ù„Ø© Ø¢Ù…Ù†Ø©"; cls="safe"; color="#22c55e";}

  document.getElementById("result").style.display="block";
  document.getElementById("result").className="result "+cls;
  document.getElementById("percent").innerText="Ù†Ø³Ø¨Ø© Ø§Ù„Ø®Ø·ÙˆØ±Ø©: "+risk+"%";

  const progressBar=document.getElementById("progress");
  progressBar.style.width="0";
  progressBar.style.background=color;
  setTimeout(()=>{ progressBar.style.width=risk+"%"; },50);

  document.getElementById("status").innerText=status;
  document.getElementById("mitre").innerText=[...new Set(tech)].join(" | ")||"Ù„Ø§ ÙŠÙˆØ¬Ø¯";
  document.getElementById("desc").innerText=tech.length?"ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ø³Ù„ÙˆÙƒ Ù…Ø·Ø§Ø¨Ù‚ Ù„Ù‡Ø¬Ù…Ø§Øª Ù‡Ù†Ø¯Ø³Ø© Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©":"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù†Ø´Ø§Ø· Ø¶Ø§Ø±";
  document.getElementById("reason").innerText=[...new Set(reasons)].join(" ØŒ ")||"Ù„Ø§ ÙŠÙˆØ¬Ø¯";

  speak(`Ù†Ø³Ø¨Ø© Ø§Ù„Ø®Ø·ÙˆØ±Ø© ${risk} Ø¨Ø§Ù„Ù…Ø¦Ø©. ${status}`);
}
</script>

</body>
</html>
