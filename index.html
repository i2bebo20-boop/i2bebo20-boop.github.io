<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Cyber Threat Analyzer</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');

body{
    margin:0;
    font-family:'Cairo',sans-serif;
    background:#020b07;
    color:#00ff9c;
    overflow:hidden;
}

/* Ø®Ù„ÙÙŠØ© Ù…Ø§ØªØ±ÙŠÙƒØ³ */
canvas{
    position:fixed;
    top:0;
    left:0;
    z-index:-1;
}

/* Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ */
.container{
    width:700px;
    max-width:90%;
    margin:70px auto;
    background:rgba(0,20,10,0.85);
    padding:25px;
    border-radius:15px;
    box-shadow:0 0 25px #00ff9c44;
    backdrop-filter:blur(6px);
    animation:fadeIn 1.2s ease;
}

@keyframes fadeIn{
    from{opacity:0; transform:translateY(40px)}
    to{opacity:1; transform:translateY(0)}
}

h1{
    text-align:center;
    margin-bottom:15px;
    text-shadow:0 0 12px #00ff9c;
}

textarea{
    width:100%;
    height:150px;
    background:#001a0d;
    border:1px solid #00ff9c55;
    border-radius:10px;
    padding:10px;
    color:#00ff9c;
    font-size:15px;
    resize:none;
}

button{
    width:100%;
    margin-top:15px;
    padding:12px;
    background:#00ff9c;
    border:none;
    color:#002b19;
    font-weight:bold;
    border-radius:10px;
    cursor:pointer;
    transition:.3s;
}

button:hover{
    box-shadow:0 0 15px #00ff9c;
}

/* Ø§Ù„Ù†ØªØ§Ø¦Ø¬ */
.result{
    margin-top:20px;
    padding:15px;
    background:#001a0d;
    border-radius:10px;
    border:1px solid #00ff9c33;
    line-height:2;
}

.danger{ color:#ff4d4d; font-weight:bold;}
.medium{ color:#ffd633; font-weight:bold;}
.safe{ color:#00ff9c; font-weight:bold;}
</style>
</head>

<body>

<canvas id="matrix"></canvas>

<div class="container">
<h1>ğŸ›¡ Cyber Threat Analyzer</h1>

<textarea id="msg" placeholder="Ø§Ù„ØµÙ‚ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø£Ùˆ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ Ù‡Ù†Ø§..."></textarea>
<button onclick="analyze()">ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙ‡Ø¯ÙŠØ¯</button>

<div class="result">
<p>Ø§Ù„Ù†ØªÙŠØ¬Ø©: <span id="result">â€”</span></p>
<p>Ù†Ø³Ø¨Ø© Ø§Ù„Ø®Ø·ÙˆØ±Ø©: <span id="score">â€”</span></p>
<p>Ø§Ù„Ø³Ø¨Ø¨: <span id="reason">â€”</span></p>
<p>MITRE ATT&CK: <span id="mitre">â€”</span></p>
</div>
</div>

<!-- ØµÙˆØª Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ -->
<audio id="alarm">
<source src="https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3">
</audio>

<script>
/* Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…Ø§ØªØ±ÙŠÙƒØ³ */
const canvas=document.getElementById('matrix');
const ctx=canvas.getContext('2d');
canvas.height=window.innerHeight;
canvas.width=window.innerWidth;

const letters="01";
const fontSize=14;
const columns=canvas.width/fontSize;
const drops=Array(Math.floor(columns)).fill(1);

function draw(){
    ctx.fillStyle="rgba(0,0,0,0.05)";
    ctx.fillRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle="#00ff9c";
    ctx.font=fontSize+"px monospace";

    drops.forEach((y,i)=>{
        const text=letters[Math.floor(Math.random()*letters.length)];
        ctx.fillText(text,i*fontSize,y*fontSize);
        if(y*fontSize>canvas.height && Math.random()>0.975) drops[i]=0;
        drops[i]++;
    });
}
setInterval(draw,33);

/* Ø§Ù„ÙƒÙ„Ù…Ø§Øª */
const phishingWords=["verify","account","bank","otp","password","suspend","login","urgent","ØªØ­Ø¯ÙŠØ«","Ø­Ø³Ø§Ø¨Ùƒ","Ø§ÙŠÙ‚Ø§Ù","Ø±Ù…Ø²","Ø§Ù„Ø¨Ù†Ùƒ","Ø§Ù„Ø±Ø§Ø¬Ø­ÙŠ","Ø§Ù„Ø§Ù‡Ù„ÙŠ","stc pay"];
const links=/https?:\/\/|\.ru|\.tk|\.xyz|bit\.ly|tinyurl/i;

/* Ø§Ù„ØªØ­Ù„ÙŠÙ„ */
function analyze(){
    let text=document.getElementById("msg").value.toLowerCase();
    let score=0;
    let reason=[];
    let mitre=[];

    phishingWords.forEach(w=>{
        if(text.includes(w)){
            score+=15;
            reason.push("ÙƒÙ„Ù…Ø© Ù…Ø´Ø¨ÙˆÙ‡Ø©: "+w);
            mitre.push("T1566 Phishing");
        }
    });

    if(links.test(text)){
        score+=25;
        reason.push("Ø±Ø§Ø¨Ø· Ù…Ø´Ø¨ÙˆÙ‡");
        mitre.push("T1204 User Execution");
    }

    if(text.includes("otp")||text.includes("Ø±Ù…Ø²")){
        score+=20;
        mitre.push("T1056 Credential Harvesting");
    }

    let result="Ø¢Ù…Ù†";
    let color="safe";

    if(score>=60){result="Ø®Ø·Ø± Ø¹Ø§Ù„ÙŠ";color="danger";document.getElementById("alarm").play();}
    else if(score>=30){result="Ù…Ø´Ø¨ÙˆÙ‡";color="medium";}

    document.getElementById("result").innerHTML=`<span class="${color}">${result}</span>`;
  document.getElementById("score").innerText=score+"%";
    document.getElementById("reason").innerText=reason.join(" | ")||"Ù„Ø§ ÙŠÙˆØ¬Ø¯";
    document.getElementById("mitre").innerText=[...new Set(mitre)].join(" , ")||"â€”";

    /* Ù‚Ø±Ø§Ø¡Ø© ØµÙˆØªÙŠØ© */
    let speech=new SpeechSynthesisUtterance("Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ "+result+" Ø¨Ù†Ø³Ø¨Ø© Ø®Ø·ÙˆØ±Ø© "+score+" Ø¨Ø§Ù„Ù…Ø¦Ø©");
    speech.lang="ar-SA";
    speechSynthesis.speak(speech);
}
</script>

</body>
</html>
